{"version":3,"file":"readium-plugin-example.js","sources":["../../plugins/example.js"],"names":["define","Plugins","$","config","backgroundColor","borderColor","register","api","self","this","reader","on","ReadiumSDK","Events","CONTENT_DOCUMENT_LOADED","$iframe","spineItem","div","idref","appendTo","contentDocument","documentElement","emit","bookmarkCurrentPage","css","border","extendReader","main"],"mappings":"AAAAA,OAAA,kCAAA,uCAAA,UAAA,SAAAC,EAAAC,GACA,GAAAC,IACAC,gBAAA,SACAC,YAAA,MAoBA,OAjBAJ,GAAAK,SAAA,UAAA,SAAAC,GACA,GAAAC,GAAAC,IAEAF,GAAAG,OAAAC,GAAAC,WAAAC,OAAAC,wBAAA,SAAAC,EAAAC,GACA,GAAAC,GAAA,4EACAd,EAAAE,YAAA,uBAAAF,EAAAC,gBAAA,sBACAY,EAAAE,MAAA,QACAhB,GAAAe,GAAAE,SAAAJ,EAAA,GAAAK,gBAAAC,iBAAAV,GAAA,QAAA,WACAH,EAAAc,KAAA,eAAAf,EAAAG,OAAAa,2BAIArB,EAAA,QAAAsB,KAAAC,OAAA,cAAAtB,EAAAE,cAEAE,EAAAmB,aAAAlB,KAGAL,IAGAH,OAAA,0BAAA,kCAAA,SAAA2B,GAAA,MAAAA","sourcesContent":["define('readium_plugin_example/example',['readium_shared_js/plugins_controller', 'jquery'], function (Plugins, $) {\r\n    var config = {\r\n        backgroundColor: \"yellow\",\r\n        borderColor: \"red\"\r\n    };\r\n\r\n    Plugins.register(\"example\", function (api) {\r\n        var self = this;\r\n\r\n        api.reader.on(ReadiumSDK.Events.CONTENT_DOCUMENT_LOADED, function ($iframe, spineItem) {\r\n            var div = '<div id=\"\" style=\"position: absolute; left: 0; top: 0; border: 1px solid '\r\n                + config.borderColor + '; background-color: ' + config.backgroundColor + ';\">'\r\n                + 'spineItemIdref: ' + spineItem.idref + '</div>';\r\n            $(div).appendTo($iframe[0].contentDocument.documentElement).on('click', function () {\r\n                self.emit(\"exampleEvent\", api.reader.bookmarkCurrentPage());\r\n            });\r\n        });\r\n\r\n        $(\"body\").css({border: '10px solid ' + config.borderColor});\r\n\r\n        api.extendReader(self);\r\n    });\r\n\r\n    return config;\r\n});\r\n\ndefine('readium_plugin_example', ['readium_plugin_example/example'], function (main) { return main; });\n\n"]}